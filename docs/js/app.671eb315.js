(function(t){function e(e){for(var r,c,i=e[0],l=e[1],u=e[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);s&&s(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},o=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var s=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"3f1e":function(t,e,n){"use strict";n("df39")},"56d7":function(t,e,n){"use strict";n.r(e);n("fd85"),n("15db"),n("c026"),n("4031"),n("3b3a"),n("f607");var r=n("79c4"),a=Object(r["m"])("div",{class:"top"},[Object(r["m"])("div",{class:"parallel-view"},[Object(r["m"])("div",{id:"parallel",class:"parcoords",style:{position:"relative","text-align":"left"}})])],-1),o={class:"bottom"},c={class:"narrow"},i=Object(r["m"])("div",null,[Object(r["m"])("span",null,"压缩图")],-1),l={class:"block"},u=Object(r["m"])("div",null,[Object(r["m"])("span",{class:"imagetext"},"原图                               图差")],-1),s={class:"block2"},d={class:"extra"},f={style:{display:"none"}},p=Object(r["m"])("canvas",{width:"960",height:"400",style:{display:"none"},id:"mycanvas"},null,-1),m=Object(r["m"])("div",{id:"pixelated"},null,-1),g=Object(r["m"])("div",{class:"wide"},[Object(r["m"])("div",{id:"threeddiv"})],-1);function h(t,e){var n=Object(r["K"])("el-slider"),h=Object(r["K"])("el-card"),v=Object(r["K"])("el-col"),b=Object(r["K"])("el-row");return Object(r["D"])(),Object(r["i"])(r["b"],null,[a,Object(r["m"])("div",o,[Object(r["m"])("div",c,[Object(r["m"])(b,{type:"flex",justify:"space-around"},{default:Object(r["Z"])((function(){return[Object(r["m"])(v,{span:200},{default:Object(r["Z"])((function(){return[Object(r["m"])(h,null,{default:Object(r["Z"])((function(){return[i,Object(r["m"])("img",{height:"350",src:t.compimg,class:"image"},null,8,["src"]),Object(r["m"])("div",l,[Object(r["m"])(n,{modelValue:t.columnindex,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.columnindex=e}),min:0,max:539,onChange:t.handleColumn},null,8,["modelValue","onChange"])])]})),_:1})]})),_:1}),Object(r["m"])(v,{span:220},{default:Object(r["Z"])((function(){return[Object(r["m"])(h,null,{default:Object(r["Z"])((function(){return[u,Object(r["m"])("img",{height:"250",src:t.oriimg,class:"images"},null,8,["src"]),Object(r["m"])("img",{height:"250",src:t.diffimg,class:"images"},null,8,["src"])]})),_:1}),Object(r["m"])("div",s,[Object(r["m"])(h,null,{default:Object(r["Z"])((function(){return[Object(r["m"])(n,{modelValue:t.rvalue,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.rvalue=e}),min:0,max:13,step:1,"format-tooltip":t.formatTooltip,onChange:t.handleSlider,"show-stops":""},null,8,["modelValue","format-tooltip","onChange"]),Object(r["m"])("div",null," SVD_K: "+Object(r["O"])(t.defaultlist[t.rvalue]),1),Object(r["m"])("div",null," Compression Ratio: "+Object(r["O"])(.0305*t.defaultlist[t.rvalue]),1)]})),_:1})])]})),_:1})]})),_:1})]),Object(r["m"])("div",d,[Object(r["m"])("div",f,[Object(r["m"])("img",{class:"columnimg",id:"image",src:t.oriimg,width:"93",height:"400"},null,8,["src"])]),p,m]),g])],64)}var v=n("2e1a"),b=n("b082"),j=n("b754"),O=(n("966c"),n("494a"),n("9588"),n("22f4"),n("e0d3"),n("dddc"),n("f471")),y=function(t,e){console.log(e,"in_parallel");var n=t.map((function(t){return t[e]})),r=Object.keys(t[0]),a=r.filter((function(t){return!t.includes("shap-")})),o=j["j"]().domain([j["g"](n),j["f"](n),j["e"](n)]).range(["#000080","#f0f0f0","#B22222"]).interpolate(j["c"]),c={};a.forEach((function(t){c[t]={}}));var i=j["k"]("#parallel"),l=i.node().getBoundingClientRect(),u=Math.ceil(l.width),s=Math.ceil(l.height),d=Object(O["a"])()("#parallel").alpha(.3).mode("queue").height(s).width(u).margin({top:20,left:25,right:10,bottom:10});return console.log("parallel",t[0]["type"]),d.data(t).dimensions(c).color((function(t){return o(t[e])})).render().brushMode("1D-axes"),d};function x(t,e){var n=document.querySelector("#mycanvas"),r=n.getContext("2d"),a=document.getElementById("image"),o=new Image;function c(t){t=Object(v["a"])({colors:null,svg:null},t);var e=t,n=e.colors,r=e.col_offset,a=e.svg,o=e.col_index;console.log("colors",n);var c=a.selectAll(".square").data(n);c.exit().remove(),c.enter().append("rect").attr("class","square").merge(c).attr("y",(function(t){return t.x})).attr("x",(function(t){return 3*(t.y-r)})).attr("width",3).attr("height",1).attr("fill",(function(t){return j["i"](t.p[2],t.p[1],t.p[0])})).attr("opacity",(function(t){return.3+.7*(t.y==o)}))}o.src=a.src,o.onload=function(){var n=99,a=415;r.drawImage(o,0,0);for(var i=j["k"]("#pixelated").html("").append("svg").attr("width",n).attr("height",a).attr("viewBox","0 0 80 840").append("g"),l=i.append("g").attr("class","square-g"),u=Math.max(0,e-15),s=Math.min(539,e+15),d=[],f=u;f<=s;f++)d.push(f);for(var p=[],m=0;m<=d.length;m++){var g=d[m];p.push.apply(p,t[g])}c({colors:p,col_offset:u,svg:l,col_index:e})}}var _,w=n("20c5"),k=[300,220],M=10,I=18,R=[],S=[],K=[],C=0,P=0,T=Math.PI/4,D=0,V=0,z=0,B=0,X=Object(w["a"])().shape("GRID",20).origin(k).rotateY(T).rotateX(-T).scale(I),Y=Object(w["a"])().x((function(t){return t.x})).y((function(t){return t.y})).z((function(t){return t.z})).origin(k).rotateY(T).rotateX(-T).scale(I),Z=Object(w["a"])().shape("LINE_STRIP").origin(k).rotateY(T).rotateX(-T).scale(I);function q(t){var e=_.selectAll("path.grid").data(t[0]);console.log(e,"12345"),e.enter().append("path").attr("class","_3d grid").merge(e).attr("stroke","black").attr("stroke-width",.3).attr("fill",(function(t){return t.ccw?"lightgrey":"#717171"})).attr("fill-opacity",.9).attr("d",X.draw),e.exit().remove();var n=_.selectAll("circle").data(t[1]);n.enter().append("circle").attr("class","_3d").attr("opacity",0).attr("cx",(function(t){return A(t)})).attr("cy",(function(t){return E(t)})).merge(n).attr("r",(function(t){return 3+t.group})).attr("stroke",(function(t){return j["i"](t.color[0],t.color[1],t.color[2]).darker(t.group)})).attr("fill",(function(t){return j["i"](t.color[0],t.color[1],t.color[2])})).attr("opacity",(function(t){return.7+.3*t.group})).attr("cx",(function(t){return A(t)})).attr("cy",(function(t){return E(t)})),n.exit().remove();var r=_.selectAll("path.yScale").data(t[2]);r.enter().append("path").attr("class","_3d yScale").merge(r).attr("stroke","black").attr("stroke-width",.5).attr("d",Z.draw),r.exit().remove();var a=_.selectAll("text.yText").data(t[2][0]);a.enter().append("text").attr("class","_3d yText").attr("dx",".3em").merge(a).each((function(t){t.centroid={x:t.rotated.x,y:t.rotated.y,z:t.rotated.z}})).attr("x",(function(t){return t.projected.x})).attr("y",(function(t){return t.projected.y})).text((function(t){return t[1]<=0?t[1]:""})),a.exit().remove(),j["l"]("._3d").sort(Object(w["a"])().sort)}function A(t){return t.projected.x}function E(t){return t.projected.y}function N(t){D=t.x,V=t.y}function J(t){z=z||0,B=B||0,C=(t.x-D+z)*Math.PI/230,P=(t.y-V+B)*Math.PI/230*-1;var e=[X.rotateY(C+T).rotateX(P-T)(K),Y.rotateY(C+T).rotateX(P-T)(R),Z.rotateY(C+T).rotateX(P-T)([S])];q(e,0)}function U(t){z=t.x-D+z,B=t.y-V+B}function G(t){console.log(t,"123");var e=j["k"]("#threeddiv").html(""),n=e.node().getBoundingClientRect(),r=Math.ceil(n.width),a=Math.ceil(n.height);_=e.append("svg").attr("id","threedplot").attr("width",r).attr("height",a).call(j["b"]().on("drag",J).on("start",N).on("end",U)),console.log(_,"svg"),K=[],R=[],S=[];for(var o=-M;o<M;o++)for(var c=-M;c<M;c++)K.push([c,1,o]);for(var i=0;i<t.length;i++)R.push({x:-t[i].p[0]/25.5*2+M,y:-t[i].p[2]/25.5,z:-t[i].p[1]/25*2+M,color:[t[i].f[2],t[i].f[1],t[i].f[0]],group:1}),R.push({x:-t[i].f[0]/25.5*2+M,y:-t[i].f[2]/25.5,z:-t[i].f[1]/25*2+M,color:[t[i].f[2],t[i].f[1],t[i].f[0]],group:0});j["h"](-1,11,1).forEach((function(t){S.push([-M,-t,-M])}));var l=[X(K),Y(R),Z([S])];q(l,1e3)}var L={data:function(){return{columnindex:0,rvalue:0,oriimg:"dataset/img/origin.jpeg",diffimg:"./dataset/img/svd_D_K_10.png",compimg:"./dataset/img/svd_R_K_10.png",defaultlist:[5,10,15,20,30,40,50,60,70,80,90,100,150,200]}},computed:Object(v["a"])({},Object(b["b"])(["pageIndex"])),mounted:function(){j["a"]("./dataset/proj.csv").then((function(t){y(t,"1"),setTimeout((function(){j["l"](".axis").each((function(t,e){console.log(t,e);var n=this.getBoundingClientRect(),r=j["k"](".top").append("div").style("top","".concat(n.top+15,"px")).style("left","".concat(n.left+40,"px")).style("position","absolute").style("transform","rotate(90deg)");r.append("div").style("position","absolute").append("img").attr("src","./dataset/img/comp_".concat(e+1,".png")).style("width","".concat(n.height-15,"px")).style("height","".concat(15,"px"))}))}),0)}));var t=this;j["d"]("./dataset/data/svd_R_K_5.json").then((function(e){console.log(e.length,"abgahj");var n=t.columnindex;x(e,n),G(e[n])}))},methods:{handleSlider:function(t){console.log(t),this.diffimg="./dataset/img/svd_D_K_"+this.defaultlist[t]+".png",this.compimg="./dataset/img/svd_R_K_"+this.defaultlist[t]+".png";var e="./dataset/data/svd_R_K_"+this.defaultlist[t]+".json";console.log(e);var n=this;j["d"](e).then((function(t){var e=n.columnindex;x(t,e),G(t[e])}))},handleColumn:function(t){var e="./dataset/data/svd_R_K_"+this.defaultlist[this.rvalue]+".json";console.log(e),j["d"](e).then((function(e){console.log("here");var n=t;x(e,n),G(e[n])}))},formatTooltip:function(t){return this.defaultlist[t]}},watch:{}};n("3f1e");L.render=h;var F=L,H=n("7a28"),Q=(n("c1c3"),Object(b["a"])({state:{dataset:[],bell:0,features:[],pageIndex:"1"},getters:{dataset:function(t){return t.dataset},realm:function(t){return t.dataset.filter((function(t){return t.selected}))},focus:function(t){return t.dataset.filter((function(t){return t.grandfathered}))},bell:function(t){return t.bell},features:function(t){return t.features},pageIndex:function(t){return t.pageIndex}},mutations:{update:function(t,e){t[e.field]=e.data},simpleNotify:function(t){t.bell++}},actions:{getScatterDataset:function(t){return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j["d"]("./dataset/dot_data.json").then((function(e){t.commit("update",{field:"dataset",data:e})}));case 2:case"end":return e.stop()}}),e)})))()},notify:function(t){t.commit("simpleNotify")},update:function(t,e){t.commit("update",e)}},modules:{}})),W=n("28d7");Object(r["h"])(F).use(Q).use(W["a"]).mount("#app")},df39:function(t,e,n){}});
//# sourceMappingURL=app.671eb315.js.map